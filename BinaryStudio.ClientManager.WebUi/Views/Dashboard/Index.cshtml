@using BinaryStudio.ClientManager.DomainModel.Entities
@model BinaryStudio.ClientManager.WebUi.Models.DashboardModel

@{
    ViewBag.Title = "Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@helper RenderColumn(IEnumerable<Inquiry> inquiries)
{
    <div class="column">
            <!-- for debug --> 
            @if (inquiries !=null)
            {
                foreach (var inquiry in inquiries)
                {
                        <div class="well span2" style="height: 50px">
                            @inquiry.Source.Subject
                            <br/><br/>
                            @if (inquiries.First().Status == InquiryStatus.IncomingInquiry)
                            {
                                <select class="span2">
                                    @foreach (var employee in Model.Employees)
                                    {
                                        <option>@employee.FullName</option>
                                    }
                                </select>
                            }
                        </div>
                }
            }
    </div>
}

<div class="container" align="center">
    <div class = "span3">
        <div class ="page-header">
            <h3>Inquiries</h3>
        </div>
        @RenderColumn(Model.Inquiries)
    </div>
    <div class = "span3">
        <div class ="page-header">
            <h3>In Progress</h3>
        </div>
        @RenderColumn(Model.InProgress)
    </div>
    <div class = "span3">
        <div class ="page-header">
            <h3>Waiting for Reply</h3>
        </div>
        @RenderColumn(Model.WaitingForReply) 
    </div>
    </div>


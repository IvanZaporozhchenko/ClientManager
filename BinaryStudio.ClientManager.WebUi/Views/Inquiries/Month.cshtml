@model BinaryStudio.ClientManager.WebUi.Models.MonthViewModel
@{
   ViewBag.Title = String.Format("Month - {0}", Model.Name);
   const int MAX_INQUIRIES = 4;
}

<div id="month" class="container">
    @foreach( var week in Model.Weeks)
    {
        <div class="row">
            <div class="week">
                @foreach (var day in week.Days)
                {
                    <div class="day">            
                        <ul>
                            <title>@String.Format("{0} ({1})", day.Name, day.Date.ToString("dd"))</title>
                            @{
                                var counter = 0;
                                foreach (var inquiry in day.Inquiries)
                                {
                                    <li class="@(counter++ > MAX_INQUIRIES ? "inquiry hide hidden" + day.Date.Day : "inquiry")">
                                         @Html.ActionLink(@inquiry.Name, "Details", new {id = inquiry.Id})
                                    </li>
                                }
                                if (counter > MAX_INQUIRIES + 1)
                                {
                                    <li style="text-align: center">
                                         <input type="button" class="btn btn-primary btn-mini" value="More" onclick="toggleList('.hidden' + @(day.Date.Day), this)"/>
                                    </li>
                                }
                            }
                        </ul>
                    </div>
                }
            </div>
        </div>
    }
</div>   

<script type="text/javascript">
    function toggleList(id, self) {
        $(id).slideToggle('slow');
        $(self).val($(self).val() == 'More' ? 'Less' : 'More');
    }
</script>